{"ast":null,"code":"import _classCallCheck from\"/Users/kamper541/Documents/Web_DEV/lasthwdo/lasthwdo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/kamper541/Documents/Web_DEV/lasthwdo/lasthwdo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/kamper541/Documents/Web_DEV/lasthwdo/lasthwdo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/kamper541/Documents/Web_DEV/lasthwdo/lasthwdo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/kamper541/Documents/Web_DEV/lasthwdo/lasthwdo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{v4}from'uuid';import axios from'axios';import{BrowserRouter as Router,Route}from'react-router-dom';import Header from'./components/Header';import AddTransaction from'./components/AddTransaction';import Balance from'./components/Balance';import IncomeExpense from'./components/IncomeExpense';import TransactionTable from'./components/TransactionTable';import About from'./components/About';import firebase from'../src/fb/firebase';import'./App.css';var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);function App(){var _getPrototypeOf2;var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(App)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={transactions:[]};_this.loadData=function(){// get data from variable\nvar data=[{id:v4(),name:'Dinner with family',amount:-1250,date:new Date(2020,1,28)},{id:v4(),name:'Movie',amount:-200,date:new Date(2020,1,29)},{id:v4(),name:'Lottery',amount:1500,date:new Date(2020,2,2)},{id:v4(),name:'Salary',amount:6500,date:new Date(2020,1,25)}];_this.setState({transactions:data});};_this.loadfb=function(){// axios.get('/static/data.json')\n//   .then( res => {\n//     const data = res.data;\n//     this.setState( { transactions: data } );\n//   });\nfirebase.firestore().collection('data').onSnapshot(function(items){var transaction=[];//array type\nitems.forEach(function(res){transaction.push(res.data());});_this.setState({transactions:transaction});});};_this.validateForm=function(name,amount){if(!name||!amount){window.alert('Please fill in ALL data fields.');return false;}else if(!isNaN(name)){window.alert('Please fill only TEXT detail in transaction name.');return false;}else if(+amount===0){window.alert('Amount CANNOT be zero!');return false;}return true;};_this.addTransaction=function(name,amount){if(!_this.validateForm(name,amount)){return false;}var newTransaction={id:v4(),name:name,amount:+amount,date:new Date().getTime()};firebase.firestore().collection('data').add(newTransaction);// this.state.transactions.unshift(newTransaction);\n// this.setState( { transactions: this.state.transactions } );\n// firebase.firestore()\n// .collection('list')\n// .push({\n//     transactions:this.state.transactions\n// })\n};_this.clearTransactions=function(e){var ans=window.confirm(\"You are going to clear all transaction history!!!\");if(ans){// var db = firebase.firestore()\n//   this.state.data.forEach( (item) => {\n//   db.collection('data').doc(item.id).delete().then(()=>{\n//   console.log(`${item.id} successfully deleted !!!`)\n// }).catch(function(error) {\n//   console.error(\"Error removing document: \", error);\n// })\n// })\n//   this.setState( { transactions: [] } );\nfirebase.firestore().collection('data').get().then(function(Snapshot){Snapshot.forEach(function(doc){doc.ref.delete();});});_this.setState({transactions:[]});}};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){// this.loadData();   // load data from variable\n//this.loadJsonData();  // load data from JSON file on server\nthis.loadfb();// this.loadFirebase(); // load data from Firebase\n}},{key:\"render\",value:function render(){var _this2=this;return React.createElement(Router,null,React.createElement(\"div\",{className:\"container mt-4 mb-5\"},React.createElement(Header,null),React.createElement(Route,{exact:true,path:\"/\",render:function render(props){return React.createElement(\"div\",null,React.createElement(AddTransaction,{addTransaction:_this2.addTransaction}),React.createElement(Balance,{transactions:_this2.state.transactions}),React.createElement(IncomeExpense,{transactions:_this2.state.transactions}),React.createElement(TransactionTable,{transactions:_this2.state.transactions,clearTransactions:_this2.clearTransactions}));}}),React.createElement(Route,{path:\"/about\",component:About})));}}]);return App;}(Component);export{App as default};","map":{"version":3,"sources":["/Users/kamper541/Documents/Web_DEV/lasthwdo/lasthwdo/src/App.jsx"],"names":["React","Component","v4","axios","BrowserRouter","Router","Route","Header","AddTransaction","Balance","IncomeExpense","TransactionTable","About","firebase","App","state","transactions","loadData","data","id","name","amount","date","Date","setState","loadfb","firestore","collection","onSnapshot","items","transaction","forEach","res","push","validateForm","window","alert","isNaN","addTransaction","newTransaction","getTime","add","clearTransactions","e","ans","confirm","get","then","Snapshot","doc","ref","delete","props"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {v4} from 'uuid';\nimport axios from 'axios';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\n\nimport Header from './components/Header';\nimport AddTransaction from './components/AddTransaction';\nimport Balance from './components/Balance';\nimport IncomeExpense from './components/IncomeExpense';\nimport TransactionTable from './components/TransactionTable';\nimport About from './components/About';\nimport firebase from '../src/fb/firebase';\n\nimport './App.css';\n\nexport default class App extends Component {\n  state = {\n    transactions: []\n  }\n\n  loadData = () => {\n    // get data from variable\n    const data = [ \n      {\n        id: v4(),\n        name: 'Dinner with family',\n        amount: -1250,\n        date: new Date(2020,1,28)\n      },\n      {\n        id: v4(),\n        name: 'Movie',\n        amount: -200,\n        date: new Date(2020,1,29)\n      },\n      {\n        id: v4(),\n        name: 'Lottery',\n        amount: 1500,\n        date: new Date(2020,2,2)\n      },\n      {\n        id: v4(),\n        name: 'Salary',\n        amount: 6500,\n        date: new Date(2020,1,25)\n      }\n    ];\n\n    this.setState( { transactions: data } );\n  }\n\n  // loadJsonData = () => {\n  //   // get data from json file: \"public/static/data.json\"\n  //   axios.get('/static/data.json')\n  //     .then( res => {\n  //       const data = res.data;\n  //       this.setState( { transactions: data } );\n  //     });\n  // }\n\n  loadfb = () =>{\n    // axios.get('/static/data.json')\n    //   .then( res => {\n    //     const data = res.data;\n    //     this.setState( { transactions: data } );\n    //   });\n    firebase.firestore().collection('data').onSnapshot(items => {\n      const transaction = [] //array type\n      items.forEach( res => {\n        transaction.push(res.data())\n      })\n      this.setState({transactions:transaction})\n    })\n  }\n\n  componentDidMount() {\n    // this.loadData();   // load data from variable\n    //this.loadJsonData();  // load data from JSON file on server\n    this.loadfb();\n    // this.loadFirebase(); // load data from Firebase\n  }\n\n  validateForm = (name,amount) => {\n    if (!name || !amount) {\n      window.alert('Please fill in ALL data fields.');\n      return false;\n    } else if ( !isNaN(name)) {\n      window.alert('Please fill only TEXT detail in transaction name.');\n      return false;\n    } else if (+amount === 0) {\n      window.alert('Amount CANNOT be zero!');\n      return false;\n    }\n  \n    return true;\n  }\n\n  addTransaction = (name,amount) => {\n\n    if(!this.validateForm(name,amount)) {\n      return false;\n    }\n\n    const newTransaction = {\n      id: v4(),\n      name,\n      amount: +amount,\n      date: new Date().getTime()\n    }\n\n    firebase.firestore()\n    .collection('data')\n    .add(newTransaction)\n\n    // this.state.transactions.unshift(newTransaction);\n    // this.setState( { transactions: this.state.transactions } );\n    // firebase.firestore()\n    // .collection('list')\n    // .push({\n    //     transactions:this.state.transactions\n    // })\n  }\n\n\n  clearTransactions = (e) => {\n    let ans = window.confirm(\"You are going to clear all transaction history!!!\")\n    if (ans) {\n      // var db = firebase.firestore()\n      //   this.state.data.forEach( (item) => {\n      //   db.collection('data').doc(item.id).delete().then(()=>{\n      //   console.log(`${item.id} successfully deleted !!!`)\n      // }).catch(function(error) {\n      //   console.error(\"Error removing document: \", error);\n      // })\n      // })\n      //   this.setState( { transactions: [] } );\n      firebase.firestore().collection('data').get().then(function(Snapshot){\n        Snapshot.forEach(function(doc){\n          doc.ref.delete()\n        })\n      })\n      this.setState( { transactions: [] } );\n    }\n    \n  }\n\n  render() {\n    return (\n      <Router>\n      <div className=\"container mt-4 mb-5\">\n        <Header />\n\n        <Route exact path=\"/\" render={ props => (\n          <div>\n          <AddTransaction addTransaction={this.addTransaction} />\n          <Balance transactions={this.state.transactions}/>\n          <IncomeExpense transactions={this.state.transactions}/>\n          <TransactionTable \n              transactions={this.state.transactions} \n              clearTransactions={this.clearTransactions} />\n          </div>\n        )} />\n          \n        <Route path=\"/about\" component={About} />        \n      </div>\n      </Router>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}